---
title: "Software Design - Architecture - Pure Client"
date: 2024-03-10 21:05:00
draft: true

tags: ["Software Design", "Architecture"]
---

## 前述

目前，筆者所在公司開發的應用程式基本上採用了 **客戶端-伺服器模式 ( Client–server model )**。在這種模式下，客戶端主要負責資訊的顯示、接收使用者輸入並向伺服器發送請求，而伺服器則負責處理這些請求，執行業務邏輯，然後將處理結果返回給客戶端。

筆者將這種模式下的客戶端稱作 **「純客戶端 (Pure Client)」**。這個術語強調了客戶端在遊戲開發中的專注性，並傳達了客戶端處理較少業務邏輯的概念。

「純客戶端」並不代表著就是一個空洞的應用，相反，在這種「純客戶端」的情境下，有幾個更需特化的關注點：

- **複雜的狀態管理**：後端回傳的簡單數據可能會在客戶端引發一系列複雜的畫面反應。為了降低調整畫面的難度，客戶端需要具備使用**假數據模擬所有畫面**的能力。
- **高度模組化的功能組件**：在純客戶端的前提下，**快速開發**是附加效益之一。在這種情況下，必須擁有即時可用的**基礎建設**( UI / Networking / Resource Management ...)，以支持這種快速開發。
- **使用者體驗** : 斷線時
- **平台適應** : 

---








## 基本型
典型的企業級應用程式包含許多視圖，一個視圖中發生的事件可能會影響其他視圖。
例如，單擊一個螢幕中的按鈕可能會顯示一個彈出窗口，並且可能會同時更新另一個螢幕的資料。
誰負責控制這樣的螢幕流邏輯？這應該由每個視圖的配對演示者控制嗎？

## 狀態
簡單來說就是數據驅動檢視更新，這在單檔元件裡面是沒有問題的，但是，當我們的應用遇到多個元件共享狀態時，單向數據流的簡潔性很容易被破壞

---


- 以本次的應用來說 從server 接收資料並呈現
- 基本沒有什麼 業務邏輯 就算有也是 應用邏輯
- 但用 port 將 變化隔離是可行的 / fake 時也有用
- 對 api 的要求如果不是對應到單畫面 
- 在 api 取回的資料比較雜的狀況下 則須考慮較全局的狀態管理
- 沒有明確的進入點 多個 mono awake 併發
- 靜態數據設定可以拉到 ScriptableObject
- 動態數據用單例到是無妨 但依賴方向要對
- 無法單獨測試動畫 因為 view 不是被動的
- 應該要很容易模擬所以 case 而不是真的用 server + 記錄檔來看 case
- slot 大獎通知?
- 依賴 inspector 的結果
- 掛一堆 Mono 
- 難以追蹤腳本使用
- client 的目的是要顯示數據  
- 以 client / Server 來說 client 沒有業務邏輯 事務腳本倒是有
